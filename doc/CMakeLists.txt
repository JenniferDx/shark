find_package( Doxygen REQUIRED )

add_custom_target( doc 
${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/Array/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/EALib/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/FileUtil/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/Fuzzy/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/LinAlg/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/Mixture/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/MOO-EALib/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/ReClaM/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/Rng/Doxyfile
COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/TimeSeries/Doxyfile
)

add_custom_target( manual
latex ${CMAKE_CURRENT_BINARY_DIR}/EALibManual/EALib.tex
COMMAND bibtex ${CMAKE_CURRENT_BINARY_DIR}/EALibManual/EALib
COMMAND latex ${CMAKE_CURRENT_BINARY_DIR}/EALibManual/EALib.tex
COMMAND latex ${CMAKE_CURRENT_BINARY_DIR}/EALibManual/EALib.tex
WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/EALibManual 
)

OPTION( OPT_INSTALL_DOCUMENTATION "Install documentation." OFF )

IF( OPT_INSTALL_DOCUMENTATION )

# INSTALL( DIRECTORY html
#DESTINATION ${SHARK_INSTALL_DOC_DIR}
#)

INSTALL( FILES index.html GettingStarted.html FAQ.html Tutorials.html
	DESTINATION ${SHARK_INSTALL_DOC_DIR}
)

INSTALL( DIRECTORY css
	DESTINATION ${SHARK_INSTALL_DOC_DIR}
	PATTERN ".*" EXCLUDE
	PATTERN "Doxyfile" EXCLUDE
)

INSTALL( DIRECTORY images
	DESTINATION ${SHARK_INSTALL_DOC_DIR}
	PATTERN ".*" EXCLUDE
	PATTERN "Doxyfile" EXCLUDE
)

INSTALL( DIRECTORY Array
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY EALib
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( FILES "EALibManual/EALib.dvi"
DESTINATION ${SHARK_INSTALL_DOC_DIR}/EALib
OPTIONAL
)

INSTALL( DIRECTORY FileUtil
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY Fuzzy
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY LinAlg
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY Mixture
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY MOO-EALib
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY ReClaM
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY Rng
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY TimeSeries
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY faq
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

INSTALL( DIRECTORY Tutorials
DESTINATION ${SHARK_INSTALL_DOC_DIR}
PATTERN ".*" EXCLUDE
)

ENDIF( OPT_INSTALL_DOCUMENTATION )
